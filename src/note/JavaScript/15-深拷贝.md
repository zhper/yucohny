# 递归实现深拷贝

```js
function deepCloneObj(obj) {
    let objClone = {}
    for (let key in obj) {
        if (obj[key] && typeof obj[key] === 'object') {
            objClone[key] = deepCloneObj(obj[key])
        } else {
            objClone[key] = obj[key]
        }
    }
    return objClone;
}

function deepCloneArray(arr) {
    let arrClone = [];
    for (int i = 0; i < arr.length; ++i) {
        if (arr[i] instanceof Array) {
            arrClone.push(deepCloneArray(arr[i]))
        } else if (arr[i] instanceof Object) {
            arrClone.push(deepCloneObj(arr[i]))
        } else {
            arrClone.push(arr[i])
        }
    }
}
```

# 通过 JSON 对象实现深拷贝

```js
function deepClone(obj) {
    const _obj = JSON.stringify(obj)
    const objClone = JSON.parse(_obj);
    return objClone;
}
```

缺点：如果深拷贝的内容是对象，而对象中具有方法，那么无法正常实现深拷贝。

# Object.assign() 方法实现深拷贝

```js
let obj = {
    name: 'Yucohny',
    info: {
        age: 19,
        position: {
            center: 'Chongqing',
            detail: 'Shapingba'
        }
    }
}
let obj2 = Object.assign(obj)
console.log(obj2)
```

# lodash 函数库实现深拷贝

lodash 第三方库提供了 lodash.cloneDeep() 实现深拷贝

安装：

```shell
npm install --save lodash
```

使用：

```js
const lodash = require('lodash')
let obj = {
    name: 'Yucohny',
    info: {
        age: 19,
        position: {
            center: 'Chongqing',
            detail: 'Shapingba'
        }
    }
}
console.log(lodash.cloneDeep(obj))
```

# structuredClone
